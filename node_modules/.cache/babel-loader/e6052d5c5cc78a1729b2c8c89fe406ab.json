{"ast":null,"code":"var _jsxFileName = \"/Users/philippmourasrivastava/Dev/Foxdale/src/app/screens/home/index.js\";\n// Philipp Moura Srivastava\n// 4 Juni 2019\n// Filename: home/index.js\n// Description: The home page made for foxdale blog and testimonial\n// mangement.\nimport React, { Component } from 'react';\nimport { Row, Col, List, Typography, Modal, Input, Button, Skeleton, Form, Popconfirm } from 'antd';\nimport ListHeader from '../../components/listHeader';\nimport PanelButton from '../../components/panelButton';\nimport { connect } from 'react-redux'; //Importing redux actions\n\nimport { getTestimonies, insertTestimony, deleteTestimony, toggleTestimony } from '../../actions/testimonies';\nimport { loadBlogs, addBlogPost, deleteBlogPost, toggleBlog } from '../../actions/blogs';\nimport { logoutWithFirebase } from '../../actions/auth';\nconst styles = {\n  container: {\n    backgroundColor: '#ffae19',\n    height: 960,\n    width: '100%'\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#fff'\n  },\n  logoContainer: {\n    paddingTop: '3%',\n    marginBottom: '3%'\n  },\n  input: {\n    height: 30\n  },\n  listItem: {\n    borderColor: '#ffae19',\n    borderWidth: 1,\n    borderRadius: 10\n  },\n  title: {\n    fontFamily: 'Avenir',\n    fontSize: 28,\n    color: '#fff',\n    marginLeft: 30\n  },\n  logo: {\n    marginLeft: 50\n  },\n  content: {\n    fontFamily: 'Avenir',\n    fontSize: 22\n  },\n  author: {\n    fontFamily: 'Avenir',\n    fontSize: 16\n  },\n  col: {\n    paddingBottom: 200\n  },\n  logout: {\n    marginLeft: '50%',\n    size: 26,\n    color: '#fff',\n    borderColor: '#FF7F00',\n    borderWidth: 3,\n    backgroundColor: 'transparent'\n  }\n};\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showTestModal = () => {\n      this.setState({\n        visible: true,\n        modalTitle: \"Add Testimony\",\n        subType: 'test',\n        placeholder: 'Enter a new testimony...'\n      });\n    };\n\n    this.showBlogModal = () => {\n      this.setState({\n        visible: true,\n        modalTitle: \"Add Blog Post\",\n        subType: 'blog',\n        placeholder: 'Enter a new blog post...'\n      });\n    };\n\n    this.handleOk = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            subType = _this$state.subType,\n            subText = _this$state.subText;\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          console.log('Received values of form: ', values);\n\n          switch (subType) {\n            case 'test':\n              this.props.insertTestimony({\n                body: values.body,\n                author: values.author\n              });\n              break;\n\n            case 'blog':\n              const len = values.body.length;\n\n              for (var i = 0; i < len; i++) {\n                if (values.body.charAt(i) == \" \" && values.body.charAt(i - 1) == \" \") {\n                  values.body.replaceAt(i - 1, \"\\n\");\n                  console.log(values.body.charAt(i - 1));\n                }\n              }\n\n              this.props.addBlogPost(values.body);\n          }\n\n          this.props.form.resetFields();\n          this.setState({\n            visible: false\n          });\n        }\n      });\n    };\n\n    this.onConfirm = () => {\n      this.props.logoutWithFirebase();\n    };\n\n    this.handleCancel = e => {\n      console.log(e);\n      this.props.form.resetFields();\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleChange = e => {\n      console.log(e);\n    };\n\n    this.state = {\n      visible: false,\n      modalTitle: null,\n      subType: null,\n      placeholder: null,\n      body: null,\n      author: null //Set as loading for skeleton\n\n    };\n    this.props.toggleBlog();\n    this.props.toggleTestimony(); //Loading data\n\n    this.props.getTestimonies();\n    this.props.loadBlogs(); //Set as finished loading for skeleton\n\n    this.props.toggleBlog();\n    this.props.toggleTestimony();\n  }\n\n  onClick(id) {\n    console.log(id);\n    this.props.deleteTestimony(id);\n  }\n\n  render() {\n    const _this$props$form = this.props.form,\n          getFieldDecorator = _this$props$form.getFieldDecorator,\n          getFieldError = _this$props$form.getFieldError,\n          isFieldTouched = _this$props$form.isFieldTouched;\n    const bodyError = isFieldTouched('body') && getFieldError('body');\n    const authorError = isFieldTouched('author') && getFieldError('author');\n    const _this$state2 = this.state,\n          visible = _this$state2.visible,\n          modalTitle = _this$state2.modalTitle,\n          placeholder = _this$state2.placeholder,\n          subType = _this$state2.subType;\n    const _this$props = this.props,\n          blogPosts = _this$props.blogPosts,\n          testimonies = _this$props.testimonies,\n          testimonyLoading = _this$props.testimonyLoading,\n          blogLoading = _this$props.blogLoading,\n          deleteBlogPost = _this$props.deleteBlogPost,\n          deleteTestimony = _this$props.deleteTestimony;\n    const text = 'Are you sure you would like to logout?';\n    console.log(testimonies);\n    return React.createElement(\"div\", {\n      style: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(Row, {\n      type: \"flex\",\n      align: \"middle\",\n      style: styles.logoContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://foxdale.s3.amazonaws.com/media/fox_head.png\",\n      style: styles.logo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      style: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Foxdale Blog & Testimony Management\"), React.createElement(Popconfirm, {\n      placement: \"right\",\n      title: text,\n      onConfirm: this.onConfirm,\n      okText: \"Yes\",\n      cancelText: \"No\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      shape: \"circle\",\n      icon: \"logout\",\n      style: styles.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      type: \"flex\",\n      style: styles.row,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      style: styles.col,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(List, {\n      header: React.createElement(ListHeader, {\n        header: \"Testimonies\",\n        onClick: this.showTestModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }),\n      bordered: true,\n      dataSource: testimonies,\n      renderItem: item => React.createElement(List.Item, {\n        actions: [React.createElement(PanelButton, {\n          text: \"Are you sure you wish to delete this testimony?\",\n          onClick: () => this.onClick(item._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        })],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Skeleton, {\n        loading: testimonyLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(List.Item.Meta, {\n        title: React.createElement(Typography, {\n          style: styles.content,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, item.testimony),\n        description: React.createElement(Typography, {\n          style: styles.author,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"\\u2015 \", item.author),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(List, {\n      header: React.createElement(ListHeader, {\n        header: \"Blog Posts\",\n        onClick: this.showBlogModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }),\n      bordered: true,\n      dataSource: blogPosts,\n      renderItem: item => React.createElement(List.Item, {\n        actions: [React.createElement(PanelButton, {\n          text: \"Are you sure you wish to delete this blog?\",\n          onClick: () => deleteBlogPost(item._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        })],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Skeleton, {\n        loading: blogLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(List.Item.Meta, {\n        title: React.createElement(Typography, {\n          style: styles.content,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, item.text),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }))), React.createElement(Modal, {\n      title: modalTitle,\n      visible: visible,\n      onCancel: this.handleCancel,\n      footer: [],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleOk,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, getFieldDecorator('body', {\n      rules: [{\n        required: true,\n        message: 'Please input some text'\n      }]\n    })(React.createElement(Input.TextArea, {\n      placeholder: placeholder,\n      rows: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }))), subType == 'test' && React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, getFieldDecorator('author', {\n      rules: [{\n        required: true,\n        message: 'Please enter the author\\'s name'\n      }]\n    })(React.createElement(Input, {\n      placeholder: \"Enter an author\\'s name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Submit\")))));\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => {\n  return {\n    testimonies: state.testimonies.testimonies,\n    blogPosts: state.blogs.blogPosts,\n    testimonyLoading: state.testimonies.testimonyLoading,\n    blogLoading: state.blogs.blogLoading\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getTestimonies: () => dispatch(getTestimonies()),\n  loadBlogs: () => dispatch(loadBlogs()),\n  insertTestimony: testimony => dispatch(insertTestimony(testimony)),\n  addBlogPost: blogPost => dispatch(addBlogPost(blogPost)),\n  deleteTestimony: testId => dispatch(deleteTestimony(testId)),\n  deleteBlogPost: blogId => dispatch(deleteBlogPost(blogId)),\n  toggleBlog: () => dispatch(toggleBlog()),\n  toggleTestimony: () => dispatch(toggleTestimony()),\n  logoutWithFirebase: () => dispatch(logoutWithFirebase())\n});\n\nconst ConnectedHome = connect(mapStateToProps, mapDispatchToProps)(Home);\nexport default Form.create({\n  name: \"ConnectedHome\"\n})(ConnectedHome);","map":{"version":3,"sources":["/Users/philippmourasrivastava/Dev/Foxdale/src/app/screens/home/index.js"],"names":["React","Component","Row","Col","List","Typography","Modal","Input","Button","Skeleton","Form","Popconfirm","ListHeader","PanelButton","connect","getTestimonies","insertTestimony","deleteTestimony","toggleTestimony","loadBlogs","addBlogPost","deleteBlogPost","toggleBlog","logoutWithFirebase","styles","container","backgroundColor","height","width","row","flexDirection","logoContainer","paddingTop","marginBottom","input","listItem","borderColor","borderWidth","borderRadius","title","fontFamily","fontSize","color","marginLeft","logo","content","author","col","paddingBottom","logout","size","Home","constructor","props","showTestModal","setState","visible","modalTitle","subType","placeholder","showBlogModal","handleOk","e","preventDefault","state","subText","form","validateFields","err","values","console","log","body","len","length","i","charAt","replaceAt","resetFields","onConfirm","handleCancel","handleChange","onClick","id","render","getFieldDecorator","getFieldError","isFieldTouched","bodyError","authorError","blogPosts","testimonies","testimonyLoading","blogLoading","text","item","_id","testimony","rules","required","message","mapStateToProps","blogs","mapDispatchToProps","dispatch","blogPost","testId","blogId","ConnectedHome","create","name"],"mappings":"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","sourcesContent":["// Philipp Moura Srivastava\n// 4 Juni 2019\n// Filename: home/index.js\n// Description: The home page made for foxdale blog and testimonial\n// mangement.\nimport React, { Component } from 'react'\nimport { Row, Col, List, Typography, Modal, Input, Button, Skeleton, Form, Popconfirm } from 'antd';\nimport ListHeader from '../../components/listHeader';\nimport PanelButton from '../../components/panelButton';\nimport { connect } from 'react-redux';\n//Importing redux actions\nimport { getTestimonies, insertTestimony, deleteTestimony, toggleTestimony } from '../../actions/testimonies';\nimport { loadBlogs, addBlogPost, deleteBlogPost, toggleBlog } from '../../actions/blogs';\nimport { logoutWithFirebase } from '../../actions/auth';\n\nconst styles = {\n  container: {\n    backgroundColor: '#ffae19',\n    height: 960,\n    width: '100%'\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#fff'\n  },\n  logoContainer: {\n    paddingTop: '3%',\n    marginBottom: '3%'\n  },\n  input: {\n    height: 30\n  },\n  listItem: {\n    borderColor: '#ffae19',\n    borderWidth: 1,\n    borderRadius: 10,\n  },\n  title: {\n    fontFamily: 'Avenir',\n    fontSize: 28,\n    color: '#fff',\n    marginLeft: 30\n  },\n  logo: {\n    marginLeft: 50\n  },\n  content: {\n    fontFamily: 'Avenir',\n    fontSize: 22\n  },\n  author: {\n    fontFamily: 'Avenir',\n    fontSize: 16\n  },\n  col: {\n    paddingBottom: 200\n  },\n  logout: {\n    marginLeft: '50%',\n    size: 26,\n    color: '#fff',\n    borderColor: '#FF7F00',\n    borderWidth: 3,\n    backgroundColor: 'transparent'\n  }\n}\n\nclass Home extends Component{\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: false,\n      modalTitle: null,\n      subType: null,\n      placeholder: null,\n      body: null,\n      author: null\n    }\n    //Set as loading for skeleton\n    this.props.toggleBlog()\n    this.props.toggleTestimony()\n    //Loading data\n    this.props.getTestimonies()\n    this.props.loadBlogs()\n    //Set as finished loading for skeleton\n    this.props.toggleBlog()\n    this.props.toggleTestimony()\n  }\n\n\n  showTestModal = () => {\n    this.setState({\n      visible: true,\n      modalTitle: \"Add Testimony\",\n      subType: 'test',\n      placeholder: 'Enter a new testimony...'\n    });\n  };\n\n  showBlogModal = () => {\n    this.setState({\n      visible: true,\n      modalTitle: \"Add Blog Post\",\n      subType: 'blog',\n      placeholder: 'Enter a new blog post...'\n    });\n  }\n\n  handleOk = e => {\n    e.preventDefault()\n\n    const { subType, subText } = this.state;\n\n\n    this.props.form.validateFields((err, values) => {\n        if (!err) {\n            console.log('Received values of form: ', values)\n\n\n            switch(subType) {\n              case 'test':\n                this.props.insertTestimony({body: values.body, author: values.author});\n                break;\n              case 'blog':\n\n                const len = values.body.length\n\n                for(var i = 0; i < len; i++) {\n                  if(values.body.charAt(i) == \" \" && values.body.charAt(i - 1) == \" \") {\n                    values.body.replaceAt(i - 1, \"\\n\")\n                    console.log(values.body.charAt(i - 1))\n                  }\n                }\n\n                this.props.addBlogPost(values.body);\n            }\n\n            this.props.form.resetFields()\n\n            this.setState({\n              visible: false,\n            });\n        }\n    })\n\n  };\n\n  onClick(id) {\n\n    console.log(id)\n    this.props.deleteTestimony(id)\n\n  }\n\n  onConfirm = () => {\n    this.props.logoutWithFirebase()\n  }\n\n  handleCancel = e => {\n    console.log(e);\n    this.props.form.resetFields()\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleChange = e => {\n    console.log(e)\n  }\n\n  render() {\n    const {\n        getFieldDecorator,\n        getFieldError,\n        isFieldTouched\n    } = this.props.form\n\n    const bodyError =\n        isFieldTouched('body') && getFieldError('body')\n    const authorError =\n        isFieldTouched('author') && getFieldError('author')\n\n\n    const { visible, modalTitle, placeholder, subType } = this.state;\n    const { blogPosts, testimonies, testimonyLoading, blogLoading, deleteBlogPost, deleteTestimony } = this.props;\n\n    const text = 'Are you sure you would like to logout?'\n    console.log(testimonies)\n    return (\n      <div style={styles.container}>\n          <Row type=\"flex\" align=\"middle\" style={styles.logoContainer}>\n            <img src='https://foxdale.s3.amazonaws.com/media/fox_head.png' style={styles.logo} />\n            <Typography style={styles.title}>\n              Foxdale Blog & Testimony Management\n            </Typography>\n            <Popconfirm placement=\"right\" title={text} onConfirm={this.onConfirm} okText=\"Yes\" cancelText=\"No\">\n              <Button type=\"primary\" shape=\"circle\" icon=\"logout\" style={styles.logout} />\n            </Popconfirm>\n          </Row>\n          <Row type=\"flex\" style={styles.row}>\n            <Col span={12} style={styles.col}>\n              <List\n                header={<ListHeader header=\"Testimonies\" onClick={this.showTestModal}/>}\n                bordered\n                dataSource={testimonies}\n                renderItem={item => (\n                  <List.Item actions={[<PanelButton text=\"Are you sure you wish to delete this testimony?\" onClick={() => this.onClick(item._id)}/>]}>\n                    <Skeleton loading={testimonyLoading}>\n                      <List.Item.Meta\n                        title={<Typography style={styles.content}>{item.testimony}</Typography>}\n                        description={<Typography style={styles.author}>― {item.author}</Typography>}\n                      />\n                    </Skeleton>\n                  </List.Item>\n                )}\n              />\n            </Col>\n            <Col span={12}>\n              <List\n                header={<ListHeader header=\"Blog Posts\" onClick={this.showBlogModal}/>}\n                bordered\n                dataSource={blogPosts}\n                renderItem={item => (\n                  <List.Item actions={[<PanelButton text=\"Are you sure you wish to delete this blog?\" onClick={() => deleteBlogPost(item._id)}/>]}>\n                    <Skeleton loading={blogLoading}>\n                      <List.Item.Meta\n                        title={<Typography style={styles.content}>{item.text}</Typography>}\n                      />\n                    </Skeleton>\n                  </List.Item>\n                )}\n              />\n            </Col>\n          </Row>\n          <Modal\n            title={modalTitle}\n            visible={visible}\n            onCancel={this.handleCancel}\n            footer={[]}\n          >\n            <Form onSubmit={this.handleOk}>\n              <Form.Item>\n              {getFieldDecorator('body', {\n                  rules: [\n                      {\n                          required: true,\n                          message: 'Please input some text'\n                      }\n                  ]\n              })(\n                <Input.TextArea\n                  placeholder={placeholder}\n                  rows={4}\n                />\n              )}\n              </Form.Item>\n              {\n                subType == 'test' &&\n                <Form.Item>\n                {getFieldDecorator('author', {\n                    rules: [\n                        {\n                            required: true,\n                            message: 'Please enter the author\\'s name'\n                        }\n                    ]\n                })(\n                  <Input\n                    placeholder={\"Enter an author\\'s name\"}\n                  />\n                )}\n                </Form.Item>\n              }\n              <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </Modal>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    testimonies: state.testimonies.testimonies,\n    blogPosts: state.blogs.blogPosts,\n    testimonyLoading: state.testimonies.testimonyLoading,\n    blogLoading: state.blogs.blogLoading\n  }\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getTestimonies: () => dispatch(getTestimonies()),\n  loadBlogs: () => dispatch(loadBlogs()),\n  insertTestimony: (testimony) => dispatch(insertTestimony(testimony)),\n  addBlogPost: (blogPost) => dispatch(addBlogPost(blogPost)),\n  deleteTestimony: (testId) => dispatch(deleteTestimony(testId)),\n  deleteBlogPost: (blogId) => dispatch(deleteBlogPost(blogId)),\n  toggleBlog: () => dispatch(toggleBlog()),\n  toggleTestimony: () => dispatch(toggleTestimony()),\n  logoutWithFirebase: () => dispatch(logoutWithFirebase()),\n});\n\nconst ConnectedHome = connect(mapStateToProps, mapDispatchToProps)(Home);\n\nexport default Form.create({ name: \"ConnectedHome\" })(ConnectedHome);\n"]},"metadata":{},"sourceType":"module"}