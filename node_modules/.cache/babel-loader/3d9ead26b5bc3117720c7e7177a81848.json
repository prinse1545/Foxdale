{"ast":null,"code":"import Firebase from '../config/Firebase';\nexport const UPDATE_BLOGS = \"UPDATE_BLOGS\";\nexport const TOGGLE_BLOG_LOADING = \"TOGGLE_BLOG_LOADING\";\nexport const loadBlogs = () => {\n  return dispatch => {\n    Firebase.firestore().collection('blogPosts').limit(20).get().then(snap => {\n      var arr = [];\n      snap.docs.map(doc => {\n        const obj = Object.assign({\n          _id: doc.id\n        }, doc.data());\n        arr.push(obj);\n      });\n      dispatch(updateBlogs(arr));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const toggleBlog = () => {\n  return dispatch => {\n    dispatch(toggleBlogLoading());\n  };\n};\nexport const addBlogPost = blogPost => {\n  return (dispatch, getState) => {\n    Firebase.firestore().collection('blogPosts').add({}).then(() => {\n      console.log('documnet successfully written');\n    }).catch(err => {\n      console.log(\"There was an error: \", err);\n    });\n  };\n};\nexport const deleteBlogPost = blogId => {\n  return (dispatch, getState) => {\n    Firebase.firestore().collection('testimonies').doc(blogId).delete().then(() => {\n      console.log('Documnet Sucessfully Deleted');\n      const blogPosts = getState().blogs.blogPosts;\n      var newBlogs = [];\n      blogPosts.map(b => {\n        if (b._id != blogId) {\n          newBlogs.push(b);\n        }\n      });\n      dispatch(updateBlogs(newBlogs));\n    }).catch(err => {\n      console.log(\"There was an error\", err);\n    });\n  };\n};\n\nconst updateBlogs = blogPosts => ({\n  type: UPDATE_BLOGS,\n  blogPosts\n});\n\nconst toggleBlogLoading = () => ({\n  type: TOGGLE_BLOG_LOADING\n});","map":{"version":3,"sources":["/Users/philippmourasrivastava/Dev/Foxdale/src/app/actions/blogs.js"],"names":["Firebase","UPDATE_BLOGS","TOGGLE_BLOG_LOADING","loadBlogs","dispatch","firestore","collection","limit","get","then","snap","arr","docs","map","doc","obj","Object","assign","_id","id","data","push","updateBlogs","catch","err","console","log","toggleBlog","toggleBlogLoading","addBlogPost","blogPost","getState","add","deleteBlogPost","blogId","delete","blogPosts","blogs","newBlogs","b","type"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oBAArB;AAEA,OAAO,MAAMC,YAAY,GAAG,cAArB;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AAEP,OAAO,MAAMC,SAAS,GAAG,MAAM;AAE7B,SAAQC,QAAD,IAAc;AAEnBJ,IAAAA,QAAQ,CAACK,SAAT,GAAqBC,UAArB,CAAgC,WAAhC,EAA6CC,KAA7C,CAAmD,EAAnD,EAAuDC,GAAvD,GAA6DC,IAA7D,CAAmEC,IAAD,IAAU;AAE1E,UAAIC,GAAG,GAAG,EAAV;AAEAD,MAAAA,IAAI,CAACE,IAAL,CAAUC,GAAV,CAAeC,GAAD,IAAS;AACrB,cAAMC,GAAG,GAAGC,MAAM,CAACC,MAAP,CAAc;AAACC,UAAAA,GAAG,EAAEJ,GAAG,CAACK;AAAV,SAAd,EAA6BL,GAAG,CAACM,IAAJ,EAA7B,CAAZ;AACAT,QAAAA,GAAG,CAACU,IAAJ,CAASN,GAAT;AACD,OAHD;AAKAX,MAAAA,QAAQ,CAACkB,WAAW,CAACX,GAAD,CAAZ,CAAR;AACD,KAVD,EAUGY,KAVH,CAUUC,GAAD,IAAS;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAZD;AAeD,GAjBD;AAkBD,CApBM;AAsBP,OAAO,MAAMG,UAAU,GAAG,MAAM;AAE9B,SAAQvB,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACwB,iBAAiB,EAAlB,CAAR;AACD,GAFD;AAGD,CALM;AAOP,OAAO,MAAMC,WAAW,GAAGC,QAAQ,IAAI;AAErC,SAAO,CAAC1B,QAAD,EAAW2B,QAAX,KAAwB;AAE7B/B,IAAAA,QAAQ,CAACK,SAAT,GAAqBC,UAArB,CAAgC,WAAhC,EAA6C0B,GAA7C,CAAiD,EAAjD,EAEGvB,IAFH,CAEQ,MAAM;AACZgB,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACD,KAJD,EAIGH,KAJH,CAIUC,GAAD,IAAS;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCF,GAApC;AACD,KAND;AAQD,GAVD;AAWD,CAbM;AAeP,OAAO,MAAMS,cAAc,GAAGC,MAAM,IAAI;AAEtC,SAAO,CAAC9B,QAAD,EAAW2B,QAAX,KAAwB;AAE7B/B,IAAAA,QAAQ,CAACK,SAAT,GAAqBC,UAArB,CAAgC,aAAhC,EAA+CQ,GAA/C,CAAmDoB,MAAnD,EAA2DC,MAA3D,GAAoE1B,IAApE,CAAyE,MAAM;AAC7EgB,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACA,YAAMU,SAAS,GAAGL,QAAQ,GAAGM,KAAX,CAAiBD,SAAnC;AAEA,UAAIE,QAAQ,GAAG,EAAf;AAEAF,MAAAA,SAAS,CAACvB,GAAV,CAAe0B,CAAD,IAAO;AACnB,YAAGA,CAAC,CAACrB,GAAF,IAASgB,MAAZ,EAAoB;AAClBI,UAAAA,QAAQ,CAACjB,IAAT,CAAckB,CAAd;AACD;AACF,OAJD;AAMAnC,MAAAA,QAAQ,CAACkB,WAAW,CAACgB,QAAD,CAAZ,CAAR;AACD,KAbD,EAaGf,KAbH,CAaUC,GAAD,IAAS;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,GAAlC;AACD,KAfD;AAiBD,GAnBD;AAoBD,CAtBM;;AAwBP,MAAMF,WAAW,GAAGc,SAAS,KAAK;AAChCI,EAAAA,IAAI,EAAEvC,YAD0B;AAEhCmC,EAAAA;AAFgC,CAAL,CAA7B;;AAKA,MAAMR,iBAAiB,GAAG,OAAO;AAC/BY,EAAAA,IAAI,EAAEtC;AADyB,CAAP,CAA1B","sourcesContent":["import Firebase from '../config/Firebase';\n\nexport const UPDATE_BLOGS = \"UPDATE_BLOGS\";\nexport const TOGGLE_BLOG_LOADING = \"TOGGLE_BLOG_LOADING\";\n\nexport const loadBlogs = () => {\n\n  return (dispatch) => {\n\n    Firebase.firestore().collection('blogPosts').limit(20).get().then((snap) => {\n\n      var arr = []\n\n      snap.docs.map((doc) => {\n        const obj = Object.assign({_id: doc.id}, doc.data())\n        arr.push(obj)\n      })\n\n      dispatch(updateBlogs(arr))\n    }).catch((err) => {\n      console.log(err)\n    })\n\n\n  }\n}\n\nexport const toggleBlog = () => {\n\n  return (dispatch) => {\n    dispatch(toggleBlogLoading())\n  }\n}\n\nexport const addBlogPost = blogPost => {\n\n  return (dispatch, getState) => {\n\n    Firebase.firestore().collection('blogPosts').add({\n\n    }).then(() => {\n      console.log('documnet successfully written');\n    }).catch((err) => {\n      console.log(\"There was an error: \", err);\n    })\n\n  }\n}\n\nexport const deleteBlogPost = blogId => {\n\n  return (dispatch, getState) => {\n\n    Firebase.firestore().collection('testimonies').doc(blogId).delete().then(() => {\n      console.log('Documnet Sucessfully Deleted');\n      const blogPosts = getState().blogs.blogPosts;\n\n      var newBlogs = []\n\n      blogPosts.map((b) => {\n        if(b._id != blogId) {\n          newBlogs.push(b)\n        }\n      })\n\n      dispatch(updateBlogs(newBlogs))\n    }).catch((err) => {\n      console.log(\"There was an error\", err)\n    })\n\n  }\n}\n\nconst updateBlogs = blogPosts => ({\n  type: UPDATE_BLOGS,\n  blogPosts\n})\n\nconst toggleBlogLoading = () => ({\n  type: TOGGLE_BLOG_LOADING\n})\n"]},"metadata":{},"sourceType":"module"}