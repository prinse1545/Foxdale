{"ast":null,"code":"var _jsxFileName = \"/Users/philippmourasrivastava/Dev/Foxdale/src/app/screens/home/index.js\";\n// Philipp Moura Srivastava\n// 4 Juni 2019\n// Filename: home/index.js\n// Description: The home page made for foxdale blog and testimonial\n// mangement.\nimport React, { Component } from 'react';\nimport { Row, Col, List, Typography, Modal, Input, Button, Skeleton } from 'antd';\nimport ListHeader from '../../components/listHeader';\nimport PanelButton from '../../components/panelButton';\nimport { connect } from 'react-redux';\nimport { getTestimonies, insertTestimony, deleteTestimony, toggleTestimony } from '../../actions/testimonies';\nimport { loadBlogs, addBlogPost, deleteBlogPost, toggleBlog } from '../../actions/blogs';\nconst styles = {\n  container: {\n    backgroundColor: '#ffae19',\n    height: 960,\n    width: '100%'\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#fff'\n  },\n  list: {\n    paddingBottom: '30%'\n  },\n  logoContainer: {\n    paddingTop: '3%',\n    marginBottom: '3%'\n  },\n  input: {\n    height: 30\n  },\n  listItem: {\n    borderColor: '#ffae19',\n    borderWidth: 1,\n    borderRadius: 10\n  },\n  title: {\n    fontFamily: 'Avenir',\n    fontSize: 28,\n    color: '#fff',\n    marginLeft: 30\n  },\n  logo: {\n    marginLeft: 50\n  },\n  content: {\n    fontFamily: 'Avenir',\n    fontSize: 22\n  },\n  author: {\n    fontFamily: 'Avenir',\n    fontSize: 16\n  }\n};\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showTestModal = () => {\n      this.setState({\n        visible: true,\n        modalTitle: \"Add Testimony\",\n        subType: 'test',\n        placeholder: 'Enter a new testimony...'\n      });\n    };\n\n    this.showBlogModal = () => {\n      this.setState({\n        visible: true,\n        modalTitle: \"Add Blog Post\",\n        subType: 'blog',\n        placeholder: 'Enter a new blog post...'\n      });\n    };\n\n    this.handleOk = e => {\n      console.log(e);\n      const _this$state = this.state,\n            subType = _this$state.subType,\n            subText = _this$state.subText;\n\n      switch (subType) {\n        case 'test':\n          this.props.insertTestimony(subText);\n          break;\n\n        case 'blog':\n          this.props.addBlogPost(subText);\n      }\n\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleCancel = e => {\n      console.log(e);\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleChange = e => {\n      console.log(e);\n    };\n\n    this.state = {\n      visible: false,\n      modalTitle: null,\n      subType: null,\n      placeholder: null,\n      subText: null //Set as loading for skeleton\n\n    };\n    this.props.toggleBlog();\n    this.props.toggleTestimony(); //Loading data\n\n    this.props.getTestimonies();\n    this.props.loadBlogs(); //Set as finished loading for skeleton\n\n    this.props.toggleBlog();\n    this.props.toggleTestimony();\n  }\n\n  onClick(id) {\n    console.log(id);\n    this.props.deleteTestimony(id);\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          visible = _this$state2.visible,\n          modalTitle = _this$state2.modalTitle,\n          placeholder = _this$state2.placeholder,\n          subType = _this$state2.subType;\n    const _this$props = this.props,\n          blogPosts = _this$props.blogPosts,\n          testimonies = _this$props.testimonies,\n          testimonyLoading = _this$props.testimonyLoading,\n          blogLoading = _this$props.blogLoading,\n          deleteBlogPost = _this$props.deleteBlogPost,\n          deleteTestimony = _this$props.deleteTestimony;\n    console.log(blogPosts[0] != undefined && new Date(blogPosts[0].date));\n    console.log(testimonies[0] != undefined && testimonies[0]);\n    return React.createElement(\"div\", {\n      style: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Row, {\n      type: \"flex\",\n      align: \"middle\",\n      style: styles.logoContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://foxdale.s3.amazonaws.com/media/fox_head.png\",\n      style: styles.logo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      style: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Foxdale Blog & Testimony Management\")), React.createElement(Row, {\n      type: \"flex\",\n      style: styles.row,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(List, {\n      header: React.createElement(ListHeader, {\n        header: \"Testimonies\",\n        onClick: this.showTestModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }),\n      bordered: true,\n      dataSource: testimonies,\n      style: styles.list,\n      renderItem: item => React.createElement(List.Item, {\n        actions: [React.createElement(PanelButton, {\n          text: \"Are you sure you wish to delete this testimony?\",\n          onClick: () => this.onClick(item._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        })],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Skeleton, {\n        loading: testimonyLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(List.Item.Meta, {\n        title: React.createElement(Typography, {\n          style: styles.content,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, item.testimony),\n        description: React.createElement(Typography, {\n          style: styles.author,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"\\u2015 \", item.author),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(List, {\n      header: React.createElement(ListHeader, {\n        header: \"Blog Posts\",\n        onClick: this.showBlogModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }),\n      bordered: true,\n      dataSource: blogPosts,\n      style: styles.list,\n      renderItem: item => React.createElement(List.Item, {\n        actions: [React.createElement(PanelButton, {\n          text: \"Are you sure you wish to delete this blog?\",\n          onClick: deleteBlogPost(item._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        })],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(Skeleton, {\n        loading: blogLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(List.Item.Meta, {\n        title: React.createElement(Typography, {\n          style: styles.content,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, item.text),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }))), React.createElement(Modal, {\n      title: modalTitle,\n      visible: visible,\n      onCancel: this.handleCancel,\n      footer: [React.createElement(Button, {\n        key: \"submit\",\n        type: \"primary\",\n        onClick: this.handleOk,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Submit\")],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Input.TextArea, {\n      placeholder: placeholder,\n      rows: 4,\n      onChange: text => console.log(text),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), subType == 'test' && React.createElement(Input, {\n      placeholder: \"Enter an author name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    })));\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => {\n  return {\n    testimonies: state.testimonies.testimonies,\n    blogPosts: state.blogs.blogPosts,\n    testimonyLoading: state.testimonies.testimonyLoading,\n    blogLoading: state.blogs.blogLoading\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getTestimonies: () => dispatch(getTestimonies()),\n  loadBlogs: () => dispatch(loadBlogs()),\n  insertTestimony: testimony => dispatch(insertTestimony(testimony)),\n  addBlogPost: blogPost => dispatch(addBlogPost(blogPost)),\n  deleteTestimony: testId => dispatch(deleteTestimony(testId)),\n  deleteBlogPost: blogId => dispatch(deleteBlogPost(blogId)),\n  toggleBlog: () => dispatch(toggleBlog()),\n  toggleTestimony: () => dispatch(toggleTestimony())\n});\n\nconst ConnectedHome = connect(mapStateToProps, mapDispatchToProps)(Home);\nexport default ConnectedHome;","map":{"version":3,"sources":["/Users/philippmourasrivastava/Dev/Foxdale/src/app/screens/home/index.js"],"names":["React","Component","Row","Col","List","Typography","Modal","Input","Button","Skeleton","ListHeader","PanelButton","connect","getTestimonies","insertTestimony","deleteTestimony","toggleTestimony","loadBlogs","addBlogPost","deleteBlogPost","toggleBlog","styles","container","backgroundColor","height","width","row","flexDirection","list","paddingBottom","logoContainer","paddingTop","marginBottom","input","listItem","borderColor","borderWidth","borderRadius","title","fontFamily","fontSize","color","marginLeft","logo","content","author","Home","constructor","props","showTestModal","setState","visible","modalTitle","subType","placeholder","showBlogModal","handleOk","e","console","log","state","subText","handleCancel","handleChange","onClick","id","render","blogPosts","testimonies","testimonyLoading","blogLoading","undefined","Date","date","item","_id","testimony","text","mapStateToProps","blogs","mapDispatchToProps","dispatch","blogPost","testId","blogId","ConnectedHome"],"mappings":"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","sourcesContent":["// Philipp Moura Srivastava\n// 4 Juni 2019\n// Filename: home/index.js\n// Description: The home page made for foxdale blog and testimonial\n// mangement.\nimport React, { Component } from 'react'\nimport { Row, Col, List, Typography, Modal, Input, Button, Skeleton } from 'antd';\nimport ListHeader from '../../components/listHeader';\nimport PanelButton from '../../components/panelButton';\nimport { connect } from 'react-redux';\n\nimport { getTestimonies, insertTestimony, deleteTestimony, toggleTestimony } from '../../actions/testimonies';\nimport { loadBlogs, addBlogPost, deleteBlogPost, toggleBlog } from '../../actions/blogs';\n\n\nconst styles = {\n  container: {\n    backgroundColor: '#ffae19',\n    height: 960,\n    width: '100%'\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#fff'\n  },\n  list: {\n    paddingBottom: '30%',\n  },\n  logoContainer: {\n    paddingTop: '3%',\n    marginBottom: '3%'\n  },\n  input: {\n    height: 30\n  },\n  listItem: {\n    borderColor: '#ffae19',\n    borderWidth: 1,\n    borderRadius: 10,\n  },\n  title: {\n    fontFamily: 'Avenir',\n    fontSize: 28,\n    color: '#fff',\n    marginLeft: 30\n  },\n  logo: {\n    marginLeft: 50\n  },\n  content: {\n    fontFamily: 'Avenir',\n    fontSize: 22\n  },\n  author: {\n    fontFamily: 'Avenir',\n    fontSize: 16\n  }\n}\n\nclass Home extends Component{\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: false,\n      modalTitle: null,\n      subType: null,\n      placeholder: null,\n      subText: null\n    }\n    //Set as loading for skeleton\n    this.props.toggleBlog()\n    this.props.toggleTestimony()\n    //Loading data\n    this.props.getTestimonies()\n    this.props.loadBlogs()\n    //Set as finished loading for skeleton\n    this.props.toggleBlog()\n    this.props.toggleTestimony()\n  }\n\n\n  showTestModal = () => {\n    this.setState({\n      visible: true,\n      modalTitle: \"Add Testimony\",\n      subType: 'test',\n      placeholder: 'Enter a new testimony...'\n    });\n  };\n\n  showBlogModal = () => {\n    this.setState({\n      visible: true,\n      modalTitle: \"Add Blog Post\",\n      subType: 'blog',\n      placeholder: 'Enter a new blog post...'\n    });\n  }\n\n  handleOk = e => {\n    console.log(e);\n\n    const { subType, subText } = this.state;\n\n    switch(subType) {\n      case 'test':\n        this.props.insertTestimony(subText);\n        break;\n      case 'blog':\n        this.props.addBlogPost(subText);\n    }\n\n    this.setState({\n      visible: false,\n    });\n  };\n\n  onClick(id) {\n\n    console.log(id)\n    this.props.deleteTestimony(id)\n\n  }\n\n  handleCancel = e => {\n    console.log(e);\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleChange = e => {\n    console.log(e)\n  }\n\n  render() {\n    const { visible, modalTitle, placeholder, subType } = this.state;\n    const { blogPosts, testimonies, testimonyLoading, blogLoading, deleteBlogPost, deleteTestimony } = this.props;\n    console.log(blogPosts[0] != undefined && new Date(blogPosts[0].date))\n    console.log(testimonies[0] != undefined && testimonies[0])\n    return (\n      <div style={styles.container}>\n          <Row type=\"flex\" align=\"middle\" style={styles.logoContainer}>\n            <img src='https://foxdale.s3.amazonaws.com/media/fox_head.png' style={styles.logo} />\n            <Typography style={styles.title}>\n              Foxdale Blog & Testimony Management\n            </Typography>\n          </Row>\n          <Row type=\"flex\" style={styles.row}>\n            <Col span={12}>\n              <List\n                header={<ListHeader header=\"Testimonies\" onClick={this.showTestModal}/>}\n                bordered\n                dataSource={testimonies}\n                style={styles.list}\n                renderItem={item => (\n                  <List.Item actions={[<PanelButton text=\"Are you sure you wish to delete this testimony?\" onClick={() => this.onClick(item._id)}/>]}>\n                    <Skeleton loading={testimonyLoading}>\n                      <List.Item.Meta\n                        title={<Typography style={styles.content}>{item.testimony}</Typography>}\n                        description={<Typography style={styles.author}>― {item.author}</Typography>}\n                      />\n                    </Skeleton>\n                  </List.Item>\n                )}\n              />\n            </Col>\n            <Col span={12}>\n              <List\n                header={<ListHeader header=\"Blog Posts\" onClick={this.showBlogModal}/>}\n                bordered\n                dataSource={blogPosts}\n                style={styles.list}\n                renderItem={item => (\n                  <List.Item actions={[<PanelButton text=\"Are you sure you wish to delete this blog?\" onClick={deleteBlogPost(item._id)}/>]}>\n                    <Skeleton loading={blogLoading}>\n                      <List.Item.Meta\n                        title={<Typography style={styles.content}>{item.text}</Typography>}\n                      />\n                    </Skeleton>\n                  </List.Item>\n                )}\n              />\n            </Col>\n          </Row>\n          <Modal\n            title={modalTitle}\n            visible={visible}\n            onCancel={this.handleCancel}\n            footer={[\n              <Button key=\"submit\" type=\"primary\" onClick={this.handleOk}>\n                Submit\n              </Button>,\n            ]}\n          >\n          <Input.TextArea\n            placeholder={placeholder}\n            rows={4}\n            onChange={(text) => console.log(text)}\n          />\n          {\n            subType == 'test' &&\n            <Input\n              placeholder={\"Enter an author name\"}\n            />\n          }\n          </Modal>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    testimonies: state.testimonies.testimonies,\n    blogPosts: state.blogs.blogPosts,\n    testimonyLoading: state.testimonies.testimonyLoading,\n    blogLoading: state.blogs.blogLoading\n  }\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getTestimonies: () => dispatch(getTestimonies()),\n  loadBlogs: () => dispatch(loadBlogs()),\n  insertTestimony: (testimony) => dispatch(insertTestimony(testimony)),\n  addBlogPost: (blogPost) => dispatch(addBlogPost(blogPost)),\n  deleteTestimony: (testId) => dispatch(deleteTestimony(testId)),\n  deleteBlogPost: (blogId) => dispatch(deleteBlogPost(blogId)),\n  toggleBlog: () => dispatch(toggleBlog()),\n  toggleTestimony: () => dispatch(toggleTestimony())\n});\n\nconst ConnectedHome = connect(mapStateToProps, mapDispatchToProps)(Home);\n\nexport default ConnectedHome;\n"]},"metadata":{},"sourceType":"module"}